{"ast":null,"code":"var _jsxFileName = \"/home/azharzafar/crud/client/src/pages/Home/Home.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet jwt_token = localStorage.getItem(\"token\") || null;\naxios.defaults.headers.common[\"x-auth-token\"] = jwt_token;\n\nconst Home = () => {\n  _s();\n\n  const initialState = {\n    id: \"\",\n    name: \"\",\n    email: \"\",\n    contact: \"\"\n  };\n  const [data, setData] = useState([]);\n  const [state, setState] = useState(initialState);\n\n  if (jwt_token) {\n    const loadData = async () => {\n      const respnse = await axios.get(\"http://localhost:3000/api/get\");\n      console.log({\n        respnse\n      });\n      setData(respnse.data);\n    };\n  }\n\n  useEffect(() => {\n    loadData();\n  }, []);\n  console.log({\n    data\n  });\n  const {\n    id,\n    name,\n    email,\n    contact\n  } = state;\n  const jwt = localStorage.getItem(\"token\");\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (!state.id) {\n      axios.post(\"http://localhost:3000/api/post\", {\n        name,\n        email,\n        contact\n      }).then(() => {\n        axios.defaults.headers.common[\"x-auth-token\"] = jwt;\n        setState(initialState);\n      }).catch(error => console.log(error));\n    } else {\n      axios.put(`http://localhost:3000/api/update/${state.id}`, {\n        id,\n        name,\n        email,\n        contact\n      }).then(() => {\n        axios.defaults.headers.common[\"x-auth-token\"] = jwt;\n        setState(initialState);\n      }).catch(error => console.log(error));\n    }\n\n    setTimeout(() => {\n      loadData();\n    }, 50);\n  };\n\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setState({ ...state,\n      [name]: value\n    });\n  };\n\n  console.log(state);\n\n  const handleDelete = id => {\n    axios.delete(`http://localhost:3000/api/remove/${id}`);\n    axios.defaults.headers.common[\"x-auth-token\"] = jwt;\n    setTimeout(() => {\n      loadData();\n    }, 50);\n  };\n\n  const handleEdit = data => {\n    console.log({\n      data\n    });\n    setState({ ...state,\n      id: data.id,\n      name: data.name,\n      email: data.email,\n      contact: data.contact\n    }); // axios\n    //   .get(`http://localhost:3000/api/get/${id}`)\n    //   .then((res) => setState({ ...res.data[0] }));\n  }; //   useEffect(() => {\n  //     handleEdit();\n  //   }, []);\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      style: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: \"440px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"hidden\",\n        name: \"id\",\n        value: id || \"\",\n        placeholder: \"id\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        value: name || \"\",\n        placeholder: \"Name\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"email\",\n        value: email || \"\",\n        placeholder: \"Email\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"contact\",\n        value: contact || \"\",\n        placeholder: \"Contact\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: state.id ? \"Update\" : \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Detail\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this), data.length >= 1 && (data === null || data === void 0 ? void 0 : data.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"space-around\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: item.id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: item.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: item.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: item.contact\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          width: \"100px\",\n          height: \"40px\"\n        },\n        onClick: () => handleEdit(item),\n        children: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          width: \"100px\",\n          height: \"40px\"\n        },\n        onClick: () => handleDelete(item.id),\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 13\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 11\n    }, this)))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Home, \"LfAnXJzJQBpCVdak1V5Ivc1tGcc=\");\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useEffect","useState","useParams","axios","jwt_token","localStorage","getItem","defaults","headers","common","Home","initialState","id","name","email","contact","data","setData","state","setState","loadData","respnse","get","console","log","jwt","handleSubmit","e","preventDefault","post","then","catch","error","put","setTimeout","handleChange","value","target","handleDelete","delete","handleEdit","display","flexDirection","width","length","map","item","index","justifyContent","height"],"sources":["/home/azharzafar/crud/client/src/pages/Home/Home.jsx"],"sourcesContent":["import React from \"react\";\nimport { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nlet jwt_token = localStorage.getItem(\"token\") || null;\naxios.defaults.headers.common[\"x-auth-token\"] = jwt_token;\nconst Home = () => {\n  const initialState = {\n    id: \"\",\n    name: \"\",\n    email: \"\",\n    contact: \"\",\n  };\n  const [data, setData] = useState([]);\n  const [state, setState] = useState(initialState);\n  if (jwt_token) {\n    const loadData = async () => {\n      const respnse = await axios.get(\"http://localhost:3000/api/get\");\n      console.log({ respnse });\n      setData(respnse.data);\n    };\n  }\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  console.log({ data });\n  const { id, name, email, contact } = state;\n  const jwt = localStorage.getItem(\"token\");\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (!state.id) {\n      axios\n        .post(\"http://localhost:3000/api/post\", {\n          name,\n          email,\n          contact,\n        })\n        .then(() => {\n          axios.defaults.headers.common[\"x-auth-token\"] = jwt;\n          setState(initialState);\n        })\n        .catch((error) => console.log(error));\n    } else {\n      axios\n        .put(`http://localhost:3000/api/update/${state.id}`, {\n          id,\n          name,\n          email,\n          contact,\n        })\n        .then(() => {\n          axios.defaults.headers.common[\"x-auth-token\"] = jwt;\n          setState(initialState);\n        })\n        .catch((error) => console.log(error));\n    }\n\n    setTimeout(() => {\n      loadData();\n    }, 50);\n  };\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setState({ ...state, [name]: value });\n  };\n  console.log(state);\n  const handleDelete = (id) => {\n    axios.delete(`http://localhost:3000/api/remove/${id}`);\n    axios.defaults.headers.common[\"x-auth-token\"] = jwt;\n\n    setTimeout(() => {\n      loadData();\n    }, 50);\n  };\n\n  const handleEdit = (data) => {\n    console.log({ data });\n    setState({\n      ...state,\n      id: data.id,\n      name: data.name,\n      email: data.email,\n      contact: data.contact,\n    });\n\n    // axios\n    //   .get(`http://localhost:3000/api/get/${id}`)\n    //   .then((res) => setState({ ...res.data[0] }));\n  };\n  //   useEffect(() => {\n  //     handleEdit();\n  //   }, []);\n  return (\n    <div>\n      <form\n        onSubmit={handleSubmit}\n        style={{ display: \"flex\", flexDirection: \"column\", width: \"440px\" }}\n      >\n        <input\n          type=\"hidden\"\n          name=\"id\"\n          value={id || \"\"}\n          placeholder=\"id\"\n          onChange={handleChange}\n        />\n        <input\n          type=\"text\"\n          name=\"name\"\n          value={name || \"\"}\n          placeholder=\"Name\"\n          onChange={handleChange}\n        />\n        <input\n          type=\"text\"\n          name=\"email\"\n          value={email || \"\"}\n          placeholder=\"Email\"\n          onChange={handleChange}\n        />\n        <input\n          type=\"text\"\n          name=\"contact\"\n          value={contact || \"\"}\n          placeholder=\"Contact\"\n          onChange={handleChange}\n        />\n        <input type=\"submit\" value={state.id ? \"Update\" : \"Save\"} />\n      </form>\n      <h1>Detail</h1>\n      {data.length >= 1 &&\n        data?.map((item, index) => (\n          <div\n            key={index}\n            style={{ display: \"flex\", justifyContent: \"space-around\" }}\n          >\n            <h3>{item.id}</h3>\n            <h3>{item.name}</h3>\n            <h3>{item.email}</h3>\n            <h3>{item.contact}</h3>\n            <button\n              style={{ width: \"100px\", height: \"40px\" }}\n              onClick={() => handleEdit(item)}\n            >\n              Edit\n            </button>\n            <button\n              style={{ width: \"100px\", height: \"40px\" }}\n              onClick={() => handleDelete(item.id)}\n            >\n              Delete\n            </button>\n          </div>\n        ))}\n    </div>\n  );\n};\n\nexport default Home;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}